async function login(){var e=document.getElementById("login-status");e.innerHTML="";var t={userid:document.getElementById("userid").value,userpw:document.getElementById("userpw").value};if(""!=t.userid&&""!=t.userpw){var n=await fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(200==n.status){var s=await n.json();localStorage.setItem("sessid",s.sessid),window.location.href="/manage.html"}else e.innerHTML="Invalid Credentials!"}}async function session(){var e=localStorage.getItem("sessid"),t=document.getElementById("login-status");null!=e&&(200==(await fetch("/api/sessinfo",{method:"GET",headers:{sessid:e}})).status&&(window.location.href="/manage.html"));"invalid"==localStorage.getItem("stat")&&(t.innerHTML="Invalid Credentials!")}window.addEventListener("load",session),document.getElementById("loginsubmit").addEventListener("click",login);